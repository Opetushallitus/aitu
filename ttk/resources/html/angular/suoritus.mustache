{{=[[ ]]=}}
[[#i18n.yleiset]]
[[#i18n.arviointipaatokset]]

<h1>[[lisaa_suoritus]]</h1>

<form name="suoritusForm">
  <div>
    <fieldset>
      <label>[[suorittaja]]</label>
      <select ng-options="suorittaja.suorittaja_id as suorittaja.etunimi + ' ' + suorittaja.sukunimi for suorittaja in suorittajat" ng-model="form.suorittaja" required></select>
    </fieldset>

    <fieldset>
      <label>[[opiskelijavuosi]]</label>
      <select ng-model="form.opiskelijavuosi" required>
        <option ng-repeat="vuosi in vuodet" value="{{ vuosi }}">{{ vuosi }}</option>
      </select>
    </fieldset>
  </div>

  <div>
    <fieldset>
      <label>[[jarjestamismuoto]]</label>
      <select ng-model="form.jarjestamismuoto" required>
        <option value="oppilaitosmuotoinen">[[oppilaitosmuotoinen]]</option>
        <option value="oppisopimuskoulutus">[[oppisopimuskoulutus]]</option>
        <option value="ei_valmistavaa_koulutusta">[[ei_valmistavaa_koulutusta]]</option>
      </select>
    </fieldset>

    <fieldset>
      <label>[[rahoitusmuoto]]</label>
      <select ng-options="rahoitusmuoto.rahoitusmuoto_id as rahoitusmuoto.rahoitusmuoto for rahoitusmuoto in rahoitusmuodot" ng-model="form.rahoitusmuoto" required></select>
    </fieldset>
  </div>

  <div>
    <fieldset>
      <label>[[tutkinto_jarjestaja]]</label>
      <select ng-options="koulutustoimija.ytunnus as (koulutustoimija | lokalisoiKentta:'nimi') for koulutustoimija in koulutustoimijat" ng-model="form.koulutustoimija" required></select>
    </fieldset>
  </div>

    <div>
      <fieldset>
        <label>[[tutkinto]]</label>
        <select ng-options="tutkinto.tutkintotunnus as tutkinto.tutkintotunnus + ' ' + (tutkinto | lokalisoiKentta:'nimi') for tutkinto in tutkinnot" ng-model="form.tutkinto" required></select>
      </fieldset>
    </div>

    <h2>[[tutkinnon_osat]]</h2>

    <button class="button-with-icon add-icon-white float-right" ng-click="lisaaTutkinnonosa()">[[lisaa_tutkinnon_osa]]</button>

    <div class="table">
      <div class="table-header">
        <div class="table-cell">[[tutkinnon_osa]]</div>
        <div class="table-cell">[[tutkinto]]</div>
        <div class="table-cell">[[arvosana]]</div>
        <div class="table-cell">[[arvosanan_korotus]]</div>
        <div class="table-cell">[[osaamisen_tunnustaminen]]</div>
        <div class="table-cell">[[suorituskieli]]</div>
        <div class="table-cell"></div>
      </div>
      <div class="table-row" ng-repeat="osa in osat track by $index">
        <div class="table-cell">{{ osa.tutkinnonosa.osatunnus }} {{ osa.tutkinnonosa | lokalisoiKentta:'nimi' }}</div>
        <div class="table-cell">{{ osa.tutkinnonosa | lokalisoiKentta:'nayttotutkinto_nimi' }}</div>
        <div class="table-cell">{{ osa.arvosana }}</div>
        <div class="table-cell">{{ osa.korotus  | muotoileBoolean }}</div> 
        <div class="table-cell">{{ osa.tunnustaminen  | muotoileBoolean  }}</div>
        <div class="table-cell"><enum-arvo nimi="kieli" arvo="osa.kieli"></enum-arvo></div>
        <div class="table-cell"><button class="icon delete-icon" ng-click="poistaOsa(osa)"></button></div>
      </div>
    </div>

    <button class="button-with-icon add-icon-white" ng-disabled="suoritusForm.$invalid" ng-click="lisaaSuoritus()">[[lisaa_suoritus]]</button>
    <button ng-click="peruuta()">[[peruuta]]</button>
</form>

[[/i18n.arviointipaatokset]]
[[/i18n.yleiset]]
