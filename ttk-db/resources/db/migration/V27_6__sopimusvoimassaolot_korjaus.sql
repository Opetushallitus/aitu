-- Palautetaan voimaan tilap√§isesti kaikki sopimukset, jotka olivat voimassa 29.7. 2016 perjantaina
update jarjestamissopimus set voimassa = true 
where jarjestamissopimusid in 
( 45293 ,  45295 ,  45289 ,  43392 ,  45182 ,  45301 ,  44778 ,  44860 ,
 44722 ,  45140 ,  45053 ,  45300 ,  45141 ,  44626 ,  39908 ,  45084 ,
 45085 ,  45134 ,  45077 ,  45256 ,  45304 ,  44795 ,  45133 ,  44803 ,
 45127 ,  44739 ,  45142 ,  45254 ,  45129 ,  45282 ,  44853 ,  45056 ,
 44886 ,  45181 ,  44670 ,  45126 ,  45143 ,  43696 ,  44861 ,  44780 ,
 45178 ,  40397 ,  45132 ,  44857 ,  45135 ,  39907 ,  45179 ,  44785 ,
 45138 ,  40702 ,  44862 ,  44855 ,  44794 ,  40852 ,  44864 ,  44783 ,
 45130 ,  45183 ,  44868 ,  44867 ,  44740 ,  45180 ,  44721 ,  43541 ,
 44887 ,  44379 ,  44788 ,  45159 ,  43434 ,  40674 ,  44552 ,  44455 ,
 44789 ,  45137 ,  45139 ,  44859 ,  44775 ,  45055 ,  44777 ,  45057 ,
 39270 ,  45128 ,  44856 ,  45131 ,  44802 ,  44889 ,  44784 ,  41532 ,
 44774 ,  44869 ,  44842 ,  45054 ,  45125 ,  44865 ,  45136 ,  39020 ,
 44890 ,  43576 ,  44808 ,  39427 ,  44583 ,  40713 ,  43656 ,  44781 ,
 44854 ,  44773 ,  44557 ,  44891 ,  44481 ,  44140 ,  39021 ,  40518 ,
 40509 ,  45041 ,  40382 ,  44720 ,  44866 ,  44791 ,  41588 ,  44112 ,
 43635 ,  40918 ,  40363 ,  44662 ,  43452 ,  40851 ,  44863 ,  40687 ,
 43624 ,  43627 ,  44110 ,  39769 ,  44671 ,  40670 ,  39380 ,  44699 ,
 40495 ,  41541 ,  39394 ,  44043 ,  41559 ,  40926 ,  44661 ,  39909 ,
 43795 ,  39424 ,  43252 ,  44257 ,  43622 ,  43443 ,  39022 ,  43262 ,
 44858 ,  39412 ,  44793 ,  44790 ,  41583 ,  43564 ,  40912 ,  40368 ,
 44792 ,  43265 ,  44723 ,  40896 ,  44782 ,  40691 ,  44645 ,  44212 ,
 40492 ,  40859 ,  40937 ,  40333 ,  43254 ,  44579 ,  44779 ,  43628 ,
 43670 ,  44031 ,  44465 ,  39024 ,  44366 ,  40505 ,  40396 ,  44448 ,
 39507 ,  43400 ,  39025 ,  43632 ,  41291 ,  40686 ,  43264 ,  43439 ,
 41160 ,  44669 ,  39761 ,  43396 ,  41164 ,  40326 ,  40398 ,  40331 ,
 44622 ,  43574 ,  43582 ,  40324 ,  40393 ,  40942 ,  43695 ,  44563 ,
 40842 ,  40108 ,  43678 ,  40857 ,  43620 ,  43996 ,  44482 ,  44580 ,
 40105 ,  40855 ,  41524 ,  40805 ,  39760 ,  44564 ,  41580 ,  40911 ,
 40922 ,  43587 ,  41523 ,  40688 ,  44029 ,  43257 ,  44272 ,  41442 ,
 40113 ,  43699 ,  43441 ,  39023 ,  40721 ,  41178 ,  39411 ,  44480 ,
 39027 ,  40673 ,  41537 ,  40858 ,  39648 ,  41526 ,  40510 ,  40632 ,
 43604 ,  43401 ,  44724 ,  39387 ,  44158 ,  40679 ,  40372 ,  43220 ,
 43575 ,  43340 ,  39028 ,  43694 ,  43697 ,  43658 ,  44668 ,  44322 ,
 44492 ,  43442 ,  40323 ,  40854 ,  40807 ,  41296 ,  44530 ,  41539 ,
 43821 ,  43681 ,  44461 ,  41547 ,  43623 ,  39775 ,  39384 ,  39029 ,
 44357 ,  43597 ,  40327 ,  39408 ,  39272 ,  40371 ,  43631 ,  41158 ,
 40385 ,  41584 ,  44472 ,  39012 ,  39406 ,  41525 ,  41443 ,  40832 ,
 42032 ,  43615 ,  43540 ,  43402 ,  43440 ,  41162 ,  44096 ,  43116 ,
 39030 ,  40391 ,  39011 ,  40907 ,  39006 ,  44383 ,  41626 ,  44042 ,
 43467 ,  44141 ,  43614 ,  40381 ,  40810 ,  39401 ,  39420 ,  43248 ,
 44113 ,  39031 ,  44129 ,  41976 ,  39910 ,  40493 ,  40378 ,  39492 ,
 40812 ,  40690 ,  40325 ,  40678 ,  43466 ,  40905 ,  40501 ,  40530 ,
 40932 ,  43698 ,  43613 ,  43619 ,  40820 ,  41169 ,  41163 ,  40374 ,
 40627 ,  39422 ,  40499 ,  40819 ,  40835 ,  40106 ,  44387 ,  40502 ,
 43545 ,  44349 ,  43612 ,  40904 ,  43861 ,  43595 ,  40709 ,  40340 ,
 40847 ,  40902 ,  39643 ,  43626 ,  43457 ,  39378 ,  40693 ,  43197 ,
 40719 ,  38958 ,  39764 ,  40824 ,  43616 ,  40365 ,  44412 ,  43592 ,
 41447 ,  44184 ,  44582 ,  44188 ,  43621 ,  40375 ,  39415 ,  44467 ,
 43625 ,  40376 ,  39414 ,  39259 ,  40895 ,  44380 ,  44303 ,  43630 ,
 40672 ,  43589 ,  43591 ,  40328 ,  43663 ,  43438 ,  41445 ,  44471 ,
 40699 ,  43813 ,  40695 ,  43246 ,  39423 ,  44314 ,  41534 ,  40669 ,
 41554 ,  44581 ,  41536 ,  43266 ,  39417 ,  43561 ,  43618 ,  39763 ,
 39637 ,  39770 ,  41553 ,  40838 ,  40498 ,  39773 ,  43633 ,  43422 ,
 39032 ,  40837 ,  40504 ,  43617 ,  41533 ,  44221 ,  39268 ,  44553 ,
 43533 ,  40707 ,  43629 ,  40836 ,  40496 ,  40808 ,  44607 ,  40373 ,
 40677 ,  38830 ,  38831 ,  38832 ,  38841 ,  38842 ,  38844 ,  38846 ,
 38848 ,  38858 ,  38881 ,  38882 ,  38883 ,  38884 ,  38886 ,  38887 ,
 38888 ,  38889 ,  38891 ,  38892 ,  38893 ,  38895 ,  38896 ,  38897 ,
 38899 ,  38900 ,  38920 ,  38925 ,  38941 ,  38942 ,  38943 ,  38945 ,
 38962 ,  38963 ,  38964 ,  38976 ,  38977 ,  39003 ,  39004 ,  39005 ,
 39007 ,  39008 ,  39009 ,  39010 ,  39013 ,  39014 ,  39015 ,  39016 ,
 39017 ,  39018 ,  39019 ,  39033 ,  39034 ,  39035 ,  39036 ,  39037 ,
 39038 ,  39039 ,  39040 ,  39057 ,  39062 ,  39071 ,  39072 ,  39098 ,
 39099 ,  39101 ,  39115 ,  39116 ,  39121 ,  39122 ,  39142 ,  39143 ,
 39144 ,  39145 ,  39146 ,  39147 ,  39148 ,  39150 ,  39151 ,  39152 ,
 39153 ,  39154 ,  39155 ,  39156 ,  39158 ,  39159 ,  39160 ,  39161 ,
 39162 ,  39163 ,  39168 ,  39169 ,  39170 ,  39171 ,  39172 ,  39173 ,
 39174 ,  39175 ,  39177 ,  39180 ,  39191 ,  39194 ,  39197 ,  39207 ,
 39208 ,  39212 ,  39214 ,  39216 ,  39220 ,  39223 ,  39224 ,  39225 ,
 39228 ,  39229 ,  39230 ,  39231 ,  39232 ,  39233 ,  39234 ,  39235 ,
 39236 ,  39244 ,  39249 ,  39250 ,  39257 ,  39258 ,  39277 ,  39278 ,
 39279 ,  39286 ,  39288 ,  39294 ,  39298 ,  39303 ,  39304 ,  39307 ,
 39310 ,  39311 ,  39313 ,  39315 ,  39318 ,  39322 ,  39324 ,  39325 ,
 39330 ,  39332 ,  39339 ,  39341 ,  39342 ,  39345 ,  39346 ,  39347 ,
 39348 ,  39349 ,  39350 ,  39354 ,  39356 ,  39357 ,  39358 ,  39359 ,
 39360 ,  39361 ,  39363 ,  39364 ,  39365 ,  39366 ,  39367 ,  39368 ,
 39370 ,  39371 ,  39373 ,  39374 ,  39376 ,  39429 ,  39430 ,  39431 ,
 39432 ,  39433 ,  39434 ,  39435 ,  39436 ,  39437 ,  39438 ,  39439 ,
 39440 ,  39441 ,  39442 ,  39443 ,  39444 ,  39445 ,  39446 ,  39447 ,
 39448 ,  39449 ,  39450 ,  39451 ,  39453 ,  39454 ,  39455 ,  39456 ,
 39458 ,  39459 ,  39460 ,  39461 ,  39462 ,  39463 ,  39464 ,  39465 ,
 39466 ,  39467 ,  39468 ,  39469 ,  39470 ,  39471 ,  39472 ,  39473 ,
 39474 ,  39475 ,  39476 ,  39477 ,  39478 ,  39479 ,  39485 ,  39488 ,
 39489 ,  39494 ,  39495 ,  39496 ,  39500 ,  39501 ,  39502 ,  39504 ,
 39505 ,  39508 ,  39509 ,  39510 ,  39511 ,  39512 ,  39513 ,  39514 ,
 39517 ,  39518 ,  39519 ,  39520 ,  39521 ,  39522 ,  39524 ,  39525 ,
 39526 ,  39527 ,  39528 ,  39529 ,  39530 ,  39531 ,  39532 ,  39533 ,
 39535 ,  39536 ,  39537 ,  39538 ,  39539 ,  39540 ,  39542 ,  39543 ,
 39544 ,  39545 ,  39546 ,  39547 ,  39548 ,  39549 ,  39551 ,  39552 ,
 39553 ,  39555 ,  39556 ,  39558 ,  39559 ,  39561 ,  39563 ,  39564 ,
 39565 ,  39566 ,  39567 ,  39568 ,  39570 ,  39572 ,  39574 ,  39575 ,
 39578 ,  39580 ,  39581 ,  39583 ,  39584 ,  39585 ,  39586 ,  39588 ,
 39589 ,  39590 ,  39591 ,  39592 ,  39593 ,  39594 ,  39595 ,  39598 ,
 39599 ,  39600 ,  39601 ,  39602 ,  39607 ,  39638 ,  39639 ,  39640 ,
 39642 ,  39644 ,  39645 ,  39647 ,  39649 ,  39650 ,  39651 ,  39652 ,
 39653 ,  39654 ,  39662 ,  39663 ,  39665 ,  39666 ,  39667 ,  39668 ,
 39669 ,  39672 ,  39673 ,  39674 ,  39675 ,  39676 ,  39678 ,  39679 ,
 39680 ,  39681 ,  39682 ,  39686 ,  39688 ,  39690 ,  39707 ,  39708 ,
 39715 ,  39722 ,  39724 ,  39725 ,  39726 ,  39730 ,  39731 ,  39732 ,
 39734 ,  39736 ,  39737 ,  39742 ,  39744 ,  39748 ,  39759 ,  39762 ,
 39772 ,  39774 ,  39778 ,  39784 ,  39787 ,  39816 ,  39820 ,  39853 ,
 39855 ,  39856 ,  39857 ,  39858 ,  39859 ,  39860 ,  39861 ,  39862 ,
 39863 ,  39892 ,  39893 ,  39894 ,  39895 ,  39897 ,  39898 ,  39899 ,
 39901 ,  39902 ,  39903 ,  39904 ,  39905 ,  39915 ,  39932 ,  39944 ,
 39950 ,  39952 ,  39953 ,  39954 ,  39955 ,  39956 ,  39957 ,  39959 ,
 39960 ,  39961 ,  39962 ,  39963 ,  39964 ,  39965 ,  39967 ,  39968 ,
 39969 ,  39970 ,  39971 ,  39972 ,  39974 ,  39975 ,  39976 ,  39977 ,
 39978 ,  39979 ,  39980 ,  39981 ,  39982 ,  39983 ,  39986 ,  39988 ,
 39989 ,  39991 ,  39992 ,  39994 ,  39995 ,  39996 ,  39997 ,  39998 ,
 39999 ,  40000 ,  40008 ,  40011 ,  40012 ,  40014 ,  40020 ,  40024 ,
 40028 ,  40032 ,  40034 ,  40035 ,  40037 ,  40039 ,  40040 ,  40042 ,
 40043 ,  40044 ,  40045 ,  40046 ,  40047 ,  40050 ,  40053 ,  40054 ,
 40056 ,  40058 ,  40059 ,  40060 ,  40061 ,  40062 ,  40063 ,  40065 ,
 40066 ,  40067 ,  40071 ,  40076 ,  40078 ,  40081 ,  40082 ,  40083 ,
 40084 ,  40085 ,  40086 ,  40092 ,  40093 ,  40096 ,  40097 ,  40098 ,
 40099 ,  40100 ,  40114 ,  40117 ,  40118 ,  40119 ,  40120 ,  40121 ,
 40122 ,  40123 ,  40126 ,  40129 ,  40131 ,  40132 ,  40133 ,  40134 ,
 40135 ,  40137 ,  40144 ,  40145 ,  40149 ,  40157 ,  40161 ,  40162 ,
 40165 ,  40170 ,  40173 ,  40174 ,  40178 ,  40180 ,  40181 ,  40185 ,
 40186 ,  40187 ,  40188 ,  40193 ,  40195 ,  40197 ,  40199 ,  40200 ,
 40207 ,  40222 ,  40223 ,  40224 ,  40226 ,  40227 ,  40228 ,  40229 ,
 40230 ,  40231 ,  40232 ,  40234 ,  40235 ,  40236 ,  40238 ,  40250 ,
 40294 ,  40309 ,  40321 ,  40564 ,  40341 ,  40342 ,  40343 ,  40344 ,
 40345 ,  40349 ,  40350 ,  40352 ,  40356 ,  40357 ,  40358 ,  40360 ,
 40362 ,  40364 ,  40367 ,  40380 ,  40384 ,  40387 ,  40389 ,  40390 ,
 40392 ,  40400 ,  40401 ,  40402 ,  40404 ,  40407 ,  40408 ,  40409 ,
 40410 ,  40411 ,  40412 ,  40413 ,  40415 ,  40416 ,  40418 ,  40420 ,
 40421 ,  40424 ,  40427 ,  40429 ,  40430 ,  40431 ,  40434 ,  40436 ,
 40449 ,  40451 ,  40452 ,  40497 ,  40507 ,  40523 ,  40542 ,  40561 ,
 40563 ,  41568 ,  40565 ,  40579 ,  40580 ,  40586 ,  40588 ,  40589 ,
 40590 ,  40592 ,  40594 ,  40595 ,  40597 ,  40599 ,  40603 ,  40604 ,
 40606 ,  40607 ,  40608 ,  40609 ,  40610 ,  40612 ,  40613 ,  40615 ,
 40617 ,  40618 ,  40620 ,  40622 ,  40623 ,  40624 ,  40625 ,  40626 ,
 40628 ,  40629 ,  40630 ,  40631 ,  40633 ,  40635 ,  40636 ,  40637 ,
 40638 ,  40639 ,  40641 ,  40642 ,  40643 ,  40647 ,  40648 ,  40653 ,
 40656 ,  40660 ,  40661 ,  40662 ,  40664 ,  40665 ,  40666 ,  40668 ,
 40676 ,  40680 ,  40681 ,  40682 ,  40689 ,  40694 ,  40696 ,  40700 ,
 40704 ,  40706 ,  40712 ,  40715 ,  40716 ,  40717 ,  40718 ,  40720 ,
 40722 ,  40724 ,  40726 ,  40727 ,  40728 ,  40729 ,  40730 ,  40731 ,
 40732 ,  40733 ,  40735 ,  40738 ,  40739 ,  40742 ,  40745 ,  40747 ,
 40751 ,  40753 ,  40754 ,  40755 ,  40756 ,  40768 ,  40770 ,  40771 ,
 40773 ,  40778 ,  40779 ,  40780 ,  40782 ,  40785 ,  40786 ,  40788 ,
 40791 ,  40795 ,  40798 ,  40799 ,  40801 ,  40806 ,  40853 ,  40861 ,
 40862 ,  40864 ,  40866 ,  40870 ,  40871 ,  40872 ,  40873 ,  40874 ,
 40875 ,  40876 ,  40877 ,  40878 ,  40879 ,  40880 ,  40881 ,  40882 ,
 40883 ,  40884 ,  40885 ,  40886 ,  40887 ,  40888 ,  40889 ,  40890 ,
 40891 ,  40892 ,  40893 ,  40945 ,  40948 ,  40949 ,  40950 ,  40951 ,
 40953 ,  40958 ,  40959 ,  40960 ,  40963 ,  41569 ,  40966 ,  40967 ,
 40969 ,  40977 ,  40979 ,  41048 ,  41052 ,  41054 ,  41055 ,  41056 ,
 41057 ,  41062 ,  41063 ,  41064 ,  41067 ,  41069 ,  41071 ,  41072 ,
 41074 ,  41075 ,  41081 ,  41082 ,  41086 ,  41088 ,  41092 ,  41098 ,
 41099 ,  41105 ,  41106 ,  41110 ,  41121 ,  41122 ,  41124 ,  41127 ,
 41193 ,  41201 ,  41226 ,  41227 ,  41228 ,  41229 ,  41230 ,  41231 ,
 41232 ,  41233 ,  41234 ,  41235 ,  41236 ,  41237 ,  41238 ,  41239 ,
 41240 ,  41241 ,  41242 ,  41243 ,  41244 ,  41245 ,  41246 ,  41247 ,
 41248 ,  41265 ,  41281 ,  41282 ,  41283 ,  41284 ,  41285 ,  41286 ,
 41287 ,  41288 ,  41290 ,  41292 ,  41293 ,  41294 ,  41295 ,  41298 ,
 41300 ,  41301 ,  41302 ,  41303 ,  41304 ,  41305 ,  41306 ,  41307 ,
 41308 ,  41309 ,  41310 ,  41311 ,  41316 ,  41362 ,  41365 ,  41369 ,
 41370 ,  41372 ,  41391 ,  41392 ,  41393 ,  41394 ,  41395 ,  41396 ,
 41397 ,  41398 ,  41399 ,  41400 ,  41402 ,  41403 ,  41404 ,  41405 ,
 41406 ,  41408 ,  41409 ,  41410 ,  41411 ,  41413 ,  41415 ,  41416 ,
 41417 ,  41418 ,  41419 ,  41421 ,  41436 ,  41439 ,  41440 ,  41446 ,
 41448 ,  41450 ,  41451 ,  41455 ,  41458 ,  41461 ,  41472 ,  41512 ,
 41564 ,  41565 ,  41566 ,  41567 ,  41570 ,  41571 ,  41573 ,  41575 ,
 41577 ,  41587 ,  41589 ,  41591 ,  41592 ,  41594 ,  41596 ,  41600 ,
 41601 ,  41603 ,  41604 ,  41605 ,  41607 ,  41613 ,  41614 ,  41616 ,
 41617 ,  41621 ,  41654 ,  41655 ,  41656 ,  41657 ,  41658 ,  41660 ,
 41661 ,  41662 ,  41663 ,  41665 ,  41669 ,  41671 ,  41770 ,  41789 ,
 41790 ,  41809 ,  41829 ,  41831 ,  41869 ,  41891 ,  41892 ,  41893 ,
 41909 ,  41949 ,  41950 ,  41952 ,  41953 ,  41970 ,  41971 ,  41972 ,
 41973 ,  41975 ,  41977 ,  41978 ,  41979 ,  41981 ,  41982 ,  41991 ,
 41993 ,  41994 ,  41997 ,  41999 ,  42009 ,  42010 ,  42029 ,  42031 ,
 42033 ,  42049 ,  43057 ,  43058 ,  43062 ,  43065 ,  43068 ,  43069 ,
 43070 ,  43071 ,  43075 ,  43079 ,  43080 ,  43083 ,  43084 ,  43085 ,
 43086 ,  43088 ,  43090 ,  43092 ,  43100 ,  43101 ,  43102 ,  43103 ,
 43104 ,  43105 ,  43106 ,  43107 ,  43108 ,  43109 ,  43110 ,  43111 ,
 43112 ,  43113 ,  43114 ,  43115 ,  43119 ,  43120 ,  43121 ,  43122 ,
 43123 ,  43124 ,  43125 ,  43126 ,  43128 ,  43129 ,  43131 ,  43133 ,
 43135 ,  43136 ,  43137 ,  43141 ,  43144 ,  43145 ,  43148 ,  43149 ,
 43150 ,  43151 ,  43154 ,  43155 ,  43156 ,  43157 ,  43161 ,  43162 ,
 43163 ,  43164 ,  43165 ,  43167 ,  43168 ,  43169 ,  43170 ,  43171 ,
 43172 ,  43173 ,  43175 ,  43176 ,  43177 ,  43178 ,  43179 ,  43180 ,
 43181 ,  43185 ,  43186 ,  43189 ,  43190 ,  43191 ,  43192 ,  43193 ,
 43194 ,  43195 ,  43196 ,  43198 ,  43200 ,  43201 ,  43202 ,  43203 ,
 43204 ,  43205 ,  43206 ,  43208 ,  43211 ,  43212 ,  43215 ,  43216 ,
 43218 ,  43219 ,  43222 ,  43223 ,  43224 ,  43225 ,  43226 ,  43227 ,
 43228 ,  43229 ,  43230 ,  43232 ,  43233 ,  43242 ,  43245 ,  43247 ,
 43249 ,  43250 ,  43251 ,  43253 ,  43255 ,  43256 ,  43258 ,  43259 ,
 43260 ,  43263 ,  43271 ,  43273 ,  43276 ,  43280 ,  43282 ,  43287 ,
 43292 ,  43293 ,  43296 ,  43297 ,  43298 ,  43299 ,  43300 ,  43301 ,
 43302 ,  43303 ,  43304 ,  43305 ,  43306 ,  43307 ,  43308 ,  43309 ,
 43310 ,  43311 ,  43312 ,  43313 ,  43314 ,  43316 ,  43318 ,  43319 ,
 43320 ,  43321 ,  43322 ,  43323 ,  43324 ,  43326 ,  43327 ,  43328 ,
 43330 ,  43332 ,  43333 ,  43334 ,  43335 ,  43336 ,  43337 ,  43338 ,
 43339 ,  43341 ,  43346 ,  43348 ,  43351 ,  43352 ,  43354 ,  43356 ,
 43363 ,  43369 ,  43370 ,  43374 ,  43376 ,  43379 ,  43381 ,  43384 ,
 43385 ,  43386 ,  43387 ,  43388 ,  43389 ,  43390 ,  43403 ,  43404 ,
 43405 ,  43406 ,  43407 ,  43408 ,  43411 ,  43412 ,  43413 ,  43414 ,
 43415 ,  43417 ,  43418 ,  43421 ,  43424 ,  43425 ,  43426 ,  43427 ,
 43428 ,  43431 ,  43432 ,  43433 ,  43444 ,  43446 ,  43447 ,  43448 ,
 43449 ,  43450 ,  43453 ,  43458 ,  43459 ,  43460 ,  43461 ,  43462 ,
 43464 ,  43465 ,  43468 ,  43470 ,  43471 ,  43472 ,  43473 ,  43474 ,
 43475 ,  43476 ,  43477 ,  43478 ,  43479 ,  43480 ,  43481 ,  43482 ,
 43483 ,  43484 ,  43485 ,  43486 ,  43487 ,  43488 ,  43489 ,  43490 ,
 43491 ,  43492 ,  43493 ,  43494 ,  43495 ,  43496 ,  43497 ,  43498 ,
 43499 ,  43500 ,  43501 ,  43502 ,  43503 ,  43505 ,  43506 ,  43507 ,
 43508 ,  43509 ,  43510 ,  43511 ,  43512 ,  43513 ,  43514 ,  43515 ,
 43516 ,  43518 ,  43519 ,  43520 ,  43521 ,  43523 ,  43524 ,  43525 ,
 43526 ,  43527 ,  43528 ,  43529 ,  43530 ,  43534 ,  43535 ,  43536 ,
 43537 ,  43538 ,  43539 ,  43542 ,  43543 ,  43544 ,  43546 ,  43547 ,
 43548 ,  43549 ,  43550 ,  43551 ,  43552 ,  43553 ,  43554 ,  43555 ,
 43556 ,  43557 ,  43558 ,  43559 ,  43560 ,  43562 ,  43563 ,  43565 ,
 43566 ,  43567 ,  43568 ,  43570 ,  43571 ,  43572 ,  43573 ,  43577 ,
 43580 ,  43581 ,  43583 ,  43584 ,  43588 ,  43590 ,  43600 ,  43601 ,
 43605 ,  43608 ,  43609 ,  43610 ,  43611 ,  43634 ,  43637 ,  43639 ,
 43641 ,  43643 ,  43644 ,  43645 ,  43646 ,  43647 ,  43648 ,  43651 ,
 43652 ,  43654 ,  43660 ,  43661 ,  43662 ,  43664 ,  43666 ,  43667 ,
 43669 ,  43671 ,  43672 ,  43673 ,  43674 ,  43675 ,  43676 ,  43677 ,
 43679 ,  43680 ,  43682 ,  43683 ,  43684 ,  43685 ,  43686 ,  43687 ,
 43688 ,  43692 ,  43693 ,  43700 ,  43701 ,  43707 ,  43708 ,  43709 ,
 43710 ,  43711 ,  43713 ,  43714 ,  43715 ,  43716 ,  43717 ,  43718 ,
 43719 ,  43721 ,  43722 ,  43723 ,  43724 ,  43725 ,  43726 ,  43727 ,
 43728 ,  43729 ,  43731 ,  43732 ,  43733 ,  43736 ,  43737 ,  43738 ,
 43739 ,  43740 ,  43741 ,  43742 ,  43743 ,  43744 ,  43746 ,  43747 ,
 43748 ,  43751 ,  43754 ,  43755 ,  43757 ,  43758 ,  43761 ,  43762 ,
 43764 ,  43765 ,  43766 ,  43767 ,  43768 ,  43769 ,  43770 ,  43771 ,
 43772 ,  43773 ,  43774 ,  43775 ,  43776 ,  43777 ,  43778 ,  43780 ,
 43782 ,  43783 ,  43784 ,  43785 ,  43787 ,  43788 ,  43789 ,  43791 ,
 43792 ,  43793 ,  43794 ,  43796 ,  43797 ,  43802 ,  43803 ,  43805 ,
 43807 ,  43815 ,  43816 ,  43817 ,  43818 ,  43819 ,  43820 ,  43822 ,
 43823 ,  43824 ,  43825 ,  43826 ,  43827 ,  43828 ,  43829 ,  43830 ,
 43831 ,  43832 ,  43834 ,  43835 ,  43836 ,  43837 ,  43838 ,  43841 ,
 43842 ,  43843 ,  43844 ,  43845 ,  43846 ,  43847 ,  43848 ,  43849 ,
 43850 ,  43851 ,  43852 ,  43853 ,  43854 ,  43855 ,  43856 ,  43857 ,
 43858 ,  43859 ,  43860 ,  43863 ,  43864 ,  43865 ,  43866 ,  43867 ,
 43868 ,  43869 ,  43870 ,  43871 ,  43872 ,  43873 ,  43874 ,  43875 ,
 43876 ,  43877 ,  43878 ,  43879 ,  43880 ,  43881 ,  43882 ,  43883 ,
 43884 ,  43885 ,  43886 ,  43887 ,  43888 ,  43889 ,  43890 ,  43891 ,
 43892 ,  43893 ,  43894 ,  43895 ,  43896 ,  43897 ,  43898 ,  43899 ,
 43900 ,  43901 ,  43902 ,  43903 ,  43904 ,  43905 ,  43906 ,  43907 ,
 43908 ,  43909 ,  43910 ,  43911 ,  43912 ,  43913 ,  43914 ,  43915 ,
 43916 ,  43917 ,  43918 ,  43919 ,  43920 ,  43921 ,  43922 ,  43923 ,
 43924 ,  43926 ,  43927 ,  43928 ,  43929 ,  43930 ,  43931 ,  43932 ,
 43933 ,  43934 ,  43935 ,  43936 ,  43937 ,  43938 ,  43939 ,  43940 ,
 43941 ,  43942 ,  43944 ,  43945 ,  43947 ,  43948 ,  43949 ,  43950 ,
 43951 ,  43952 ,  43955 ,  43956 ,  43962 ,  43963 ,  43965 ,  43967 ,
 43968 ,  43969 ,  43970 ,  43971 ,  43972 ,  43973 ,  43974 ,  43975 ,
 43976 ,  43977 ,  43978 ,  43979 ,  43980 ,  43981 ,  43982 ,  43983 ,
 43984 ,  43986 ,  43988 ,  43994 ,  43997 ,  43998 ,  43999 ,  44000 ,
 44001 ,  44002 ,  44003 ,  44004 ,  44005 ,  44006 ,  44007 ,  44008 ,
 44011 ,  44012 ,  44013 ,  44014 ,  44015 ,  44016 ,  44017 ,  44018 ,
 44019 ,  44021 ,  44022 ,  44023 ,  44025 ,  44026 ,  44027 ,  44030 ,
 44035 ,  44036 ,  44037 ,  44038 ,  44040 ,  44041 ,  44046 ,  44047 ,
 44048 ,  44049 ,  44053 ,  44054 ,  44055 ,  44056 ,  44057 ,  44058 ,
 44059 ,  44062 ,  44064 ,  44067 ,  44068 ,  44069 ,  44070 ,  44071 ,
 44073 ,  44076 ,  44077 ,  44078 ,  44079 ,  44080 ,  44081 ,  44082 ,
 44084 ,  44085 ,  44087 ,  44088 ,  44089 ,  44093 ,  44094 ,  44095 ,
 44099 ,  44100 ,  44101 ,  44102 ,  44104 ,  44105 ,  44106 ,  44107 ,
 44108 ,  44109 ,  44117 ,  44118 ,  44119 ,  44120 ,  44123 ,  44124 ,
 44125 ,  44126 ,  44127 ,  44128 ,  44130 ,  44132 ,  44133 ,  44134 ,
 44135 ,  44136 ,  44137 ,  44138 ,  44139 ,  44142 ,  44143 ,  44144 ,
 44145 ,  44146 ,  44147 ,  44148 ,  44150 ,  44151 ,  44152 ,  44153 ,
 44155 ,  44156 ,  44157 ,  44160 ,  44161 ,  44162 ,  44164 ,  44165 ,
 44166 ,  44167 ,  44168 ,  44169 ,  44170 ,  44172 ,  44173 ,  44174 ,
 44175 ,  44176 ,  44177 ,  44178 ,  44179 ,  44181 ,  44182 ,  44183 ,
 44185 ,  44186 ,  44187 ,  44189 ,  44190 ,  44193 ,  44194 ,  44197 ,
 44198 ,  44200 ,  44201 ,  44202 ,  44205 ,  44209 ,  44210 ,  44211 ,
 44213 ,  44214 ,  44215 ,  44216 ,  44217 ,  44218 ,  44219 ,  44220 ,
 44222 ,  44223 ,  44224 ,  44225 ,  44226 ,  44228 ,  44230 ,  44231 ,
 44233 ,  44234 ,  44235 ,  44236 ,  44237 ,  44238 ,  44239 ,  44241 ,
 44242 ,  44243 ,  44244 ,  44245 ,  44246 ,  44247 ,  44248 ,  44249 ,
 44251 ,  44252 ,  44255 ,  44256 ,  44258 ,  44259 ,  44261 ,  44262 ,
 44263 ,  44264 ,  44265 ,  44266 ,  44268 ,  44269 ,  44273 ,  44274 ,
 44275 ,  44276 ,  44277 ,  44278 ,  44279 ,  44280 ,  44281 ,  44282 ,
 44283 ,  44284 ,  44285 ,  44286 ,  44287 ,  44289 ,  44290 ,  44292 ,
 44293 ,  44295 ,  44297 ,  44298 ,  44300 ,  44304 ,  44306 ,  44307 ,
 44310 ,  44311 ,  44312 ,  44313 ,  44316 ,  44317 ,  44318 ,  44319 ,
 44320 ,  44321 ,  44324 ,  44325 ,  44326 ,  44327 ,  44328 ,  44329 ,
 44331 ,  44332 ,  44333 ,  44334 ,  44336 ,  44337 ,  44338 ,  44339 ,
 44340 ,  44341 ,  44344 ,  44345 ,  44346 ,  44347 ,  44348 ,  44350 ,
 44352 ,  44353 ,  44354 ,  44355 ,  44356 ,  44358 ,  44359 ,  44360 ,
 44361 ,  44362 ,  44363 ,  44364 ,  44367 ,  44368 ,  44369 ,  44370 ,
 44371 ,  44372 ,  44373 ,  44374 ,  44375 ,  44376 ,  44377 ,  44384 ,
 44385 ,  44386 ,  44389 ,  44390 ,  44394 ,  44395 ,  44396 ,  44397 ,
 44398 ,  44401 ,  44402 ,  44403 ,  44404 ,  44407 ,  44408 ,  44409 ,
 44411 ,  44415 ,  44416 ,  44419 ,  44421 ,  44422 ,  44426 ,  44427 ,
 44428 ,  44430 ,  44431 ,  44432 ,  44433 ,  44434 ,  44435 ,  44436 ,
 44438 ,  44439 ,  44440 ,  44441 ,  44442 ,  44443 ,  44444 ,  44445 ,
 44446 ,  44447 ,  44449 ,  44450 ,  44451 ,  44453 ,  44459 ,  44460 ,
 44462 ,  44463 ,  44466 ,  44468 ,  44473 ,  44474 ,  44475 ,  44476 ,
 44477 ,  44478 ,  44483 ,  44486 ,  44487 ,  44489 ,  44490 ,  44491 ,
 44494 ,  44495 ,  44496 ,  44497 ,  44498 ,  44499 ,  44500 ,  44503 ,
 44504 ,  44505 ,  44506 ,  44508 ,  44509 ,  44510 ,  44511 ,  44513 ,
 44514 ,  44515 ,  44516 ,  44518 ,  44520 ,  44522 ,  44523 ,  44525 ,
 44526 ,  44527 ,  44529 ,  44532 ,  44533 ,  44534 ,  44535 ,  44536 ,
 44537 ,  44538 ,  44539 ,  44541 ,  44542 ,  44544 ,  44545 ,  44550 ,
 44556 ,  44568 ,  44569 ,  44571 ,  44572 ,  44574 ,  44575 ,  44576 ,
 44586 ,  44587 ,  44589 ,  44590 ,  44591 ,  44592 ,  44593 ,  44594 ,
 44595 ,  44596 ,  44597 ,  44598 ,  44599 ,  44600 ,  44601 ,  44602 ,
 44606 ,  44608 ,  44609 ,  44610 ,  44611 ,  44613 ,  44614 ,  44615 ,
 44616 ,  44617 ,  44618 ,  44619 ,  44620 ,  44621 ,  44624 ,  44625 ,
 44627 ,  44629 ,  44630 ,  44631 ,  44633 ,  44634 ,  44635 ,  44636 ,
 44637 ,  44638 ,  44639 ,  44640 ,  44641 ,  44642 ,  44643 ,  44644 ,
 44646 ,  44647 ,  44648 ,  44650 ,  44651 ,  44652 ,  44653 ,  44654 ,
 44655 ,  44656 ,  44657 ,  44658 ,  44659 ,  44660 ,  44667 ,  44672 ,
 44673 ,  44674 ,  44675 ,  44676 ,  44677 ,  44678 ,  44680 ,  44681 ,
 44682 ,  44683 ,  44684 ,  44685 ,  44686 ,  44687 ,  44688 ,  44689 ,
 44690 ,  44691 ,  44692 ,  44694 ,  44695 ,  44696 ,  44697 ,  44698 ,
 44700 ,  44701 ,  44703 ,  44708 ,  44710 ,  44711 ,  44712 ,  44713 ,
 44714 ,  44715 ,  44716 ,  44717 ,  44718 ,  44719 ,  44728 ,  44729 ,
 44730 ,  44732 ,  44733 ,  44734 ,  44735 ,  44736 ,  44737 ,  44741 ,
 44742 ,  44743 ,  44744 ,  44745 ,  44746 ,  44747 ,  44748 ,  44750 ,
 44751 ,  44754 ,  44755 ,  44756 ,  44757 ,  44758 ,  44759 ,  44760 ,
 44761 ,  44762 ,  44763 ,  44764 ,  44765 ,  44766 ,  44768 ,  44769 ,
 44770 ,  44771 ,  44772 ,  44776 ,  44787 ,  44798 ,  44799 ,  44800 ,
 44801 ,  44804 ,  44805 ,  44806 ,  44809 ,  44810 ,  44811 ,  44812 ,
 44813 ,  44815 ,  44817 ,  44818 ,  44819 ,  44820 ,  44821 ,  44822 ,
 44823 ,  44824 ,  44825 ,  44826 ,  44827 ,  44828 ,  44831 ,  44832 ,
 44834 ,  44838 ,  44843 ,  44844 ,  44845 ,  44846 ,  44847 ,  44848 ,
 44849 ,  44850 ,  44851 ,  44852 ,  44871 ,  44872 ,  44873 ,  44874 ,
 44875 ,  44876 ,  44877 ,  44878 ,  44879 ,  44880 ,  44881 ,  44882 ,
 44883 ,  44884 ,  44885 ,  44888 ,  44892 ,  44893 ,  44894 ,  44895 ,
 44896 ,  44897 ,  44898 ,  44899 ,  44900 ,  44901 ,  44902 ,  44903 ,
 44904 ,  44905 ,  44906 ,  44907 ,  44908 ,  44909 ,  44910 ,  44911 ,
 44912 ,  44913 ,  44914 ,  44915 ,  44916 ,  44917 ,  44918 ,  44919 ,
 44920 ,  44921 ,  44922 ,  44923 ,  44924 ,  44925 ,  44926 ,  44927 ,
 44928 ,  44929 ,  44930 ,  44931 ,  44932 ,  44933 ,  44934 ,  44935 ,
 44936 ,  44937 ,  44938 ,  44939 ,  44940 ,  44941 ,  44942 ,  44943 ,
 44944 ,  44945 ,  44946 ,  44947 ,  44948 ,  44949 ,  44950 ,  44951 ,
 44952 ,  44953 ,  44954 ,  44955 ,  44956 ,  44957 ,  44958 ,  44959 ,
 44960 ,  44961 ,  44962 ,  44963 ,  44964 ,  45185 ,  44967 ,  44968 ,
 44969 ,  44970 ,  44971 ,  44972 ,  44973 ,  44974 ,  44975 ,  44976 ,
 44977 ,  44978 ,  44979 ,  44980 ,  44981 ,  44982 ,  44983 ,  44984 ,
 44985 ,  44986 ,  44987 ,  44988 ,  44989 ,  44990 ,  44991 ,  44992 ,
 44993 ,  44994 ,  44995 ,  44996 ,  44997 ,  44998 ,  44999 ,  45000 ,
 45001 ,  45002 ,  45003 ,  45004 ,  45005 ,  45006 ,  45007 ,  45008 ,
 45009 ,  45010 ,  45011 ,  45012 ,  45013 ,  45014 ,  45015 ,  45016 ,
 45017 ,  45018 ,  45019 ,  45020 ,  45021 ,  45022 ,  45023 ,  45024 ,
 45025 ,  45026 ,  45027 ,  45029 ,  45030 ,  45031 ,  45032 ,  45033 ,
 45034 ,  45035 ,  45036 ,  45037 ,  45038 ,  45040 ,  45042 ,  45044 ,
 45045 ,  45046 ,  45047 ,  45048 ,  45049 ,  45050 ,  45051 ,  45052 ,
 45058 ,  45061 ,  45063 ,  45065 ,  45066 ,  45069 ,  45070 ,  45076 ,
 45079 ,  45080 ,  45081 ,  45082 ,  45083 ,  45086 ,  45087 ,  45088 ,
 45089 ,  45090 ,  45091 ,  45092 ,  45093 ,  45094 ,  45095 ,  45097 ,
 45098 ,  45099 ,  45100 ,  45101 ,  45103 ,  45104 ,  45106 ,  45107 ,
 45108 ,  45109 ,  45110 ,  45112 ,  45113 ,  45114 ,  45115 ,  45116 ,
 45117 ,  45118 ,  45119 ,  45120 ,  45121 ,  45122 ,  45123 ,  45124 ,
 45144 ,  45145 ,  45146 ,  45147 ,  45148 ,  45149 ,  45150 ,  45151 ,
 45152 ,  45153 ,  45154 ,  45155 ,  45157 ,  45158 ,  45160 ,  45161 ,
 45162 ,  45163 ,  45164 ,  45167 ,  45168 ,  45169 ,  45170 ,  45171 ,
 45172 ,  45173 ,  45174 ,  45175 ,  45176 ,  45177 ,  45184 ,  45186 ,
 45187 ,  45188 ,  45189 ,  45190 ,  45191 ,  45192 ,  45194 ,  45195 ,
 45196 ,  45197 ,  45198 ,  45199 ,  45200 ,  45201 ,  45202 ,  45203 ,
 45204 ,  45205 ,  45206 ,  45207 ,  45208 ,  45210 ,  45211 ,  45212 ,
 45213 ,  45214 ,  45215 ,  45216 ,  45217 ,  45219 ,  45220 ,  45221 ,
 45223 ,  45224 ,  45225 ,  45226 ,  45227 ,  45228 ,  45229 ,  45230 ,
 45231 ,  45232 ,  45233 ,  45234 ,  45235 ,  45237 ,  45238 ,  45239 ,
 45240 ,  45241 ,  45242 ,  45243 ,  45244 ,  45245 ,  45246 ,  45247 ,
 45249 ,  45250 ,  45251 ,  45252 ,  45253 ,  45255 ,  45257 ,  45258 ,
 45260 ,  45261 ,  45262 ,  45263 ,  45264 ,  45265 ,  45266 ,  45267 ,
 45268 ,  45269 ,  45270 ,  45271 ,  45273 ,  45274 ,  45275 ,  45276 ,
 45278 ,  45279 ,  45280 ,  45281 ,  45283 ,  45284 ,  45285 ,  45286 ,
 45287 ,  45288 ,  45290 ,  45291 ,  45292 ,  45294 ,  45296 ,  45297 ,
 45298 ,  45299 ,  45302 ,  45303 ,  45305 ,  45306 ,  45307 ,  45308 ,
 45309 ,  45311 ,  45312 ,  45314 ,  45315 ,  45316 ,  45318 ,  45333 ,
 45334 ,  45335 ,  45336 ,  45337 ,  45338 ,  45339 ,  45340 ,  45341 ,
 45342 ,  45343 ,  45344 ,  45345 ,  45346 ,  45347 ,  45348 ,  45349 ,
 45350 ,  45351 ,  45352 ,  45353 ,  45354 ,  45355 ,  45356 ,  45357 ,
 45358 ,  45359 ,  45360 );

drop table sopimuspaivitys;

-- V27_4, muokattu. Alkupvm ja loppupvm ovat nyt avoin v√§li, ei en√§√§ suljettu v√§li

create table sopimuspaivitys as 
select distinct j.jarjestamissopimusid, j.sopimusnumero, j.toimikunta, j.sopijatoimikunta, wt.nimi_fi as vanha_nimi_fi, t.tkunta, t.diaarinumero, t.nimi_fi as uusi_nimi_fi, t.nimi_sv as uusi_nimi_sv, t.kielisyys, t.tilikoodi, st.kieli from jarjestamissopimus j
inner join sopimus_ja_tutkinto st on st.jarjestamissopimusid = j.jarjestamissopimusid
inner join tutkintoversio tv on tv.tutkintoversio_id = st.tutkintoversio
inner join toimikunta_ja_tutkinto tt on tt.tutkintotunnus = tv.tutkintotunnus
inner join tutkintotoimikunta t on t.tkunta = tt.toimikunta
inner join tutkintotoimikunta wt on wt.tkunta = j.sopijatoimikunta
  where j.voimassa = true
  and j.poistettu = false
  and t.toimikausi_id = 3
  and st.poistettu = false
  and j.jarjestamissopimusid > 0
  and ((t.kielisyys = st.kieli) or (t.kielisyys='2k') or (st.kieli is null))
  and tv.voimassa_alkupvm <= to_date('2016-07-31','YYYY-MM-DD')
  and tv.voimassa_loppupvm >= to_date('2016-07-31', 'YYYY-MM-DD')
and not exists (select 42 from sopimus_ja_tutkinto st2 
  inner join tutkintoversio tv2 on tv2.tutkintoversio_id = st2.tutkintoversio
  inner join toimikunta_ja_tutkinto tt2 on tt2.tutkintotunnus = tv2.tutkintotunnus
  inner join tutkintotoimikunta t2 on t2.tkunta = tt2.toimikunta
  where st2.jarjestamissopimusid = j.jarjestamissopimusid
  and t2.toimikausi_id = 3
  and tt2.toimikunta != tt.toimikunta
  and t2.kielisyys = t.kielisyys
  and tv2.tutkintotunnus != tv.tutkintotunnus
  and ((t2.kielisyys = st2.kieli) or (t2.kielisyys='2k'))
  and st2.kieli = st.kieli
  and st2.poistettu = false
  and tv2.voimassa_alkupvm <= to_date('2016-07-31','YYYY-MM-DD')
  and tv2.voimassa_loppupvm >= to_date('2016-07-31', 'YYYY-MM-DD')
  )
order by j.jarjestamissopimusid ;

update jarjestamissopimus j
set toimikunta = s.tkunta
from sopimuspaivitys s 
where j.jarjestamissopimusid = s.jarjestamissopimusid;

-- er√§ajo korjaa voimassaoloista osan takaisin tilaan ei-voimassa
